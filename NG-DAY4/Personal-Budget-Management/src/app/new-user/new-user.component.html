<div class="main">
    <div class="reg-container">
        <div class="heading">
            <h1 style="text-align: center; font-size: 42px">
                Personal Budget Manager
            </h1>
            <h2>Sign Up</h2>
            <p>
                Existing user?<span
                    ><a href="/">Sign In</a></span
                >
            </p>
        </div>
        <form (ngSubmit)="onRegister(regForm)" #regForm="ngForm">
            <div class="form-divs">
                <label class="email-lbl">Enter user name</label>
                <input id="user-name-inp" type="text" placeholder="User Name" ngModel name="username" required />
            </div>
            <div class="form-divs">
                <label class="email-lbl">Enter email address</label>
                <input
                    id="email-inp"
                    type="email"
                    placeholder="Email Address"
                    name="email"
                    ngModel
                    pattern="[^@\s]+@[^@\s]+\.[^@\s]+"
                    required
                />
            </div>
            <div class="form-divs">
                <label class="pass-lbl">Enter your password</label>
                <input id="pass-inp" placeholder="Password" type="password" ngModel required minlength="8" name="password" />
            </div>
            <div class="form-divs">
                <label class="pass-lbl">Confirm your password</label>
                <input
                    id="cnfm-pass-inp"
                    placeholder="Password"
                    type="password"
                    name="cnfmpass"
                    ngModel
                    minlength="8"
                    required
                />
            </div>
            <input id="sign-up-btn" type="submit" value="Sign Up"
                [disabled]="(regForm.invalid ||
                (regForm.controls['cnfmpass'].value !== regForm.controls['password'].value))"
                />
        </form>
        <p id="error-dsp">
            @if (
                regForm.controls['username'].touched &&
                regForm.controls['username'].errors?.['required']
                ) {
                Username can't be empty!
            } @else if (
                regForm.controls['email'].touched &&
                regForm.controls['email'].errors?.['required']
                ) {
                Email can't be empty!
            } @else if (regForm.controls['email'].errors?.['pattern']) {
                Email isn't valid!
            } @else if (
                regForm.controls['password'].touched &&
                regForm.controls['password'].errors?.['required']
                ) {
                Password can't be empty!
            } @else if (regForm.controls['password'].errors?.['minlength'] && regForm.controls['password'].dirty) {
                Password < than 8 characters!
            } @else if (
                regForm.controls['cnfmpass'].touched &&
                regForm.controls['cnfmpass'].errors?.['required']
                ) {
                Confirm password can't be empty!
            } @else if (
                regForm.controls['cnfmpass'].value !=
                regForm.controls['password'].value
                ) {
                Confirm password does'nt match!
            } @else {
                {{errorText}}
            }
        </p>
    </div>
</div>
